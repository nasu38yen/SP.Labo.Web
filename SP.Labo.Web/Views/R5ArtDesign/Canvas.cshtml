@{
    ViewBag.Title = "Canvasを試す";
}

@section styles{

<style>
</style>
}

@section scripts{
    <script type="text/javascript">

        function drawRectangle() {
            /* canvas要素のノードオブジェクト */
            var canvas = document.getElementById('canvas1');
            /* canvas要素の存在チェックとCanvas未対応ブラウザの対処 */
            if (!canvas || !canvas.getContext) {
                return false;
            }
            /* 2Dコンテキスト */
            var ctx = canvas.getContext('2d');
            /* 四角を描く */
            ctx.beginPath();
            ctx.moveTo(20, 20);
            ctx.lineTo(120, 20);
            ctx.lineTo(120, 120);
            ctx.lineTo(20, 120);
            ctx.closePath();
            ctx.stroke();
        }

        function drawCircle() {
            var canvas = document.getElementById('canvas1');
            if (!canvas || !canvas.getContext) { return false; }
            var ctx = canvas.getContext('2d');
            ctx.beginPath();
            ctx.arc(70, 70, 60, 0, Math.PI * 2, false);
            ctx.stroke();
        }

        function paintCircle() {
            var canvas = document.getElementById("canvas1");
            var ctx = canvas.getContext('2d');
            ctx.fillStyle = "#000000";
            ctx.beginPath();
            ctx.arc(70, 70, 60, 0, Math.PI * 2, true);
            ctx.fill();
        }

        function paintCirclePurple() {
            var canvas = document.getElementById("canvas1");
            var ctx = canvas.getContext('2d');
            ctx.fillStyle = 'rgb(128, 100, 162)'; // 紫
            ctx.beginPath();
            ctx.arc(70, 70, 60, 0, Math.PI * 2, true);
            ctx.fill();
        }

        function paintRectangleBlue() {
            var canvas = document.getElementById("canvas1");
            var ctx = canvas.getContext('2d');
            ctx.fillStyle = 'rgba(155, 187, 89, 0.7)'; // 緑
            ctx.beginPath();
            ctx.fillRect(50, 50, 100, 100);
        }

        function drawImage() {
            var canvas = document.getElementById('canvas1');
            if (!canvas || !canvas.getContext) { return false; }
            var ctx = canvas.getContext('2d');
            /* Imageオブジェクトを生成 */
            var img = new Image();
            img.src = "@Url.Content("~/Content/images/desserts/かき氷.png")";
            /* 画像が読み込まれるのを待ってから処理を続行 */
            img.onload = function () {
                ctx.drawImage(img, 0, 0, 200, 200);
            }
        }    </script>    
}

<h2>Canvasに描画する</h2>

<canvas id ="canvas1" width="200" height="200"></canvas>
<br />
<input type="button" value="四角を描く" onclick="drawRectangle();"/>
<input type="button" value="丸を描く" onclick="drawCircle();"/>
<input type="button" value="丸を塗る" onclick="paintCircle();"/>
<input type="button" value="紫で塗る" onclick="paintCirclePurple();"/>
<input type="button" value="薄く塗る" onclick="paintRectangleBlue();"/>
<input type="button" value="画像で塗る" onclick="drawImage();"/>
